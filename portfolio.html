<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI/ML Portfolio</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Dark blue-gray background */
            color: #e2e8f0; /* Light gray text */
            overflow-x: hidden; /* Prevent horizontal scroll due to animations */
        }
        .gradient-text {
            background: linear-gradient(45deg, #8b5cf6, #ec4899); /* Purple to Pink Gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: #1e293b; /* Slightly lighter dark blue-gray for cards */
            border: 1px solid #334155; /* Subtle border */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Enhanced shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
            border-radius: 0.75rem; /* More rounded corners */
        }
        .card:hover {
            transform: translateY(-8px); /* More pronounced lift */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Larger shadow on hover */
            border-color: #8b5cf6; /* Highlight border on hover */
        }
        .ai-pattern {
            background-image: radial-gradient(circle at center, #334155 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.1;
            position: fixed; /* Changed to fixed */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        /* Custom scrollbar for a sleek look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Styles for the blurred navigation bar */
        .navbar-blurred {
            background-color: rgba(15, 23, 42, 0.8); /* Semi-transparent dark blue-gray */
            backdrop-filter: blur(8px); /* Apply blur effect */
            -webkit-backdrop-filter: blur(8px); /* For Safari support */
        }

        /* Particle background for hero section */
        #particles-js {
            position: fixed; /* Changed to fixed */
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -2; /* Below ai-pattern */
        }

        /* Scroll reveal animations */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        .scroll-reveal.delay-1 { transition-delay: 0.1s; }
        .scroll-reveal.delay-2 { transition-delay: 0.2s; }
        .scroll-reveal.delay-3 { transition-delay: 0.3s; }
        .scroll-reveal.delay-4 { transition-delay: 0.4s; }
        .scroll-reveal.delay-5 { transition-delay: 0.5s; }
        .scroll-reveal.delay-6 { transition-delay: 0.6s; }

        /* Cursor for typewriter effect */
        .cursor {
            display: inline-block;
            background-color: #ec4899; /* Pink color for cursor */
            width: 3px;
            height: 1.2em; /* Adjust height to match text line-height */
            vertical-align: middle;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Custom Message Box Styles */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .message-box-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .message-box {
            background-color: #1e293b;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 400px;
            width: 90%;
            transform: translateY(-20px);
            transition: transform 0.3s ease-in-out;
        }
        .message-box-overlay.show .message-box {
            transform: translateY(0);
        }
        .message-box h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #8b5cf6;
        }
        .message-box p {
            color: #e2e8f0;
            margin-bottom: 1.5rem;
        }
        .message-box button {
            background-color: #8b5cf6;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            transition: background-color 0.3s ease-in-out;
        }
        .message-box button:hover {
            background-color: #7c3aed;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Particle background canvas (moved here) -->
    <div id="particles-js"></div>
    <!-- AI pattern (moved here) -->
    <div class="ai-pattern"></div>

    <!-- Custom Message Box HTML -->
    <div id="customMessageBox" class="message-box-overlay">
        <div class="message-box">
            <h3 id="messageBoxTitle"></h3>
            <p id="messageBoxContent"></p>
            <button id="messageBoxCloseBtn">OK</button>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav id="navbar" class="bg-gray-900 p-4 shadow-lg fixed w-full z-10 top-0 transition-all duration-300 ease-in-out">
        <div class="container mx-auto flex justify-between items-center">
            <a href="#" class="text-2xl font-bold gradient-text rounded-lg p-2"></a>
            <div class="space-x-4">
                <a href="#about" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">About</a>
                <a href="#skills" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">Skills</a>
                <a href="#projects" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">Projects</a>
                <a href="#experience" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">Experience</a>
                <a href="#certifications" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">Certifications</a>
                <a href="#contact" class="text-gray-300 hover:text-white transition duration-300 rounded-md px-3 py-2">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="about" class="relative min-h-screen flex items-center justify-center text-center pt-20 overflow-hidden">
        <div class="container mx-auto px-4 py-16 max-w-4xl z-0">
            <div class="relative w-48 h-48 mx-auto mb-8 rounded-full overflow-hidden border-4 border-purple-600 shadow-lg scroll-reveal">
                <!-- Placeholder image for profile picture -->
                <img src="Nav.jpg" alt="Profile Picture" class="w-full h-full object-cover">
            </div>
            <h1 class="text-5xl md:text-7xl font-extrabold mb-4 leading-tight scroll-reveal delay-1">
                Hello, I'm <span class="gradient-text">Navjot Kaushal</span>
            </h1>
            <p class="text-xl md:text-2xl text-gray-400 mb-8 max-w-2xl mx-auto scroll-reveal delay-2">
                A passionate <span class="text-cyan-400">ML Engineer</span> dedicated to building intelligent systems and unraveling the complexities of data.
            </p>
            <div class="flex justify-center space-x-4 scroll-reveal delay-3">
                <a href="#projects" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                    View My Projects
                </a>
                <a href="#contact" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                    Get In Touch
                </a>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text scroll-reveal">My Expertise</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Skill Card 1 -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-1">
                    <div class="text-5xl mb-4 text-blue-400">🧠</div>
                    <h3 class="text-2xl font-semibold mb-2">Machine Learning</h3>
                    <p class="text-gray-400">Deep understanding of ML algorithms, model training, evaluation, and deployment.</p>
                    <ul class="mt-4 text-gray-500 text-sm list-disc list-inside">
                        <li>Supervised & Unsupervised Learning</li>
                        <li>Feature Engineering</li>
                    </ul>
                </div>
                <!-- Skill Card 2 -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-2">
                    <div class="text-5xl mb-4 text-green-400">💻</div>
                    <h3 class="text-2xl font-semibold mb-2">Deep Learning & Frameworks</h3>
                    <p class="text-gray-400">Proficient in modern deep learning architectures and popular frameworks.</p>
                    <ul class="mt-4 text-gray-500 text-sm list-disc list-inside">
                        <li>TensorFlow, PyTorch</li>
                        <li>Natural Language Processing</li>
                        <li>Keras</li>
                    </ul>
                </div>
               
                <!-- Skill Card 5 -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-5">
                    <div class="text-5xl mb-4 text-purple-400">📊</div>
                    <h3 class="text-2xl font-semibold mb-2">Data Science & Analytics</h3>
                    <p class="text-gray-400">Strong foundation in data manipulation, visualization, and statistical analysis.</p>
                    <ul class="mt-4 text-gray-500 text-sm list-disc list-inside">
                        <li>Pandas, NumPy, Matplotlib, Seaborn</li>
                        <li>SQL, NoSQL Databases</li>
                    </ul>
                </div>
                <!-- Skill Card 6 
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-6">
                    <div class="text-5xl mb-4 text-teal-400">☁️</div>
                    <h3 class="text-2xl font-semibold mb-2">Cloud & MLOps</h3>
                    <p class="text-gray-400">Experience with cloud platforms and MLOps practices for scalable solutions.</p>
                    <ul class="mt-4 text-gray-500 text-sm list-disc list-inside">
                        <li>AWS, Google Cloud Platform (GCP)</li>
                        <li>Docker, Kubernetes</li>
                        <li>CI/CD for ML</li>
                    </ul>
                </div>-->
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text scroll-reveal">My Projects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- NEW Project Card: Car Price Prediction Model -->
                <div class="card p-6 rounded-lg scroll-reveal delay-1">
                    <img src="stock.jpg" alt="Stock Price Prediction Project" class="rounded-md mb-4 w-full h-48 object-cover">
                    <h3 class="text-2xl font-semibold mb-2 text-white">Stock Price Prediction Model</h3>
                    <p class="text-gray-400 mb-4">Developed a machine learning model to predict stock prices based on features like historical prices, trading volume, and market sentiment.</p>
                    <div class="flex justify-between items-center">
                        <!-- Replace with your actual demo URL -->
                        <a href="https://example.com/car-prediction-demo" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                            View Demo &rarr;
                        </a>
                        <!-- Replace with your actual GitHub repository URL -->
                        <a href="https://github.com/Navjotkaushal/Stock-Price-Predictor" target="_blank" class="text-gray-500 hover:text-white transition duration-300">
                            GitHub
                        </a>
                    </div>
                </div>
                <!-- Project Card 1 (now second) -->
                <div class="card p-6 rounded-lg scroll-reveal delay-2">
                    <img src="loan.jpg" alt="" class="rounded-md mb-4 w-full h-48 object-cover">
                    <h3 class="text-2xl font-semibold mb-2 text-white">Smart Loan Recovery Model</h3>
                    <p class="text-gray-400 mb-4">Developed a model to predict the likelihood of loan recovery based on borrower characteristics and economic indicators and risk factors.</p>
                    <div class="flex justify-between items-center">
                        <!-- Replace with your actual demo URL -->
                        <a href="https://example.com/sentiment-demo" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                            View Demo &rarr;
                        </a>
                        <!-- Replace with your actual GitHub repository URL -->
                        <a href="https://github.com/your-username/sentiment-analysis-repo" target="_blank" class="text-gray-500 hover:text-white transition duration-300">
                            GitHub
                        </a>
                    </div>
                </div>
                <!-- Project Card 2 (now third) -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-3">
                    <img src="sentiment.jpg" alt="Loan Approval Prediction" class="rounded-md mb-4 w-full h-48 object-cover">
                    <h3 class="text-2xl font-semibold mb-2 text-white">Text Emotion Classification Model</h3>
                    <p class="text-gray-400 mb-4">Built a model to classify emotions in text based on user input.</p>
                    <div class="flex justify-between items-center">
                        <!-- Replace with your actual demo URL -->
                        <a href="https://example.com/object-detection-demo" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                            View Demo &rarr;
                        </a>
                        <!-- Replace with your actual GitHub repository URL -->
                        <a href="https://github.com/your-username/object-detection-repo" target="_blank" class="text-gray-500 hover:text-white transition duration-300">
                            GitHub
                        </a>
                    </div>
                </div>
                
                </div>
            </div>
        </div>
    </section>

    <!-- Experience & Education Section -->
    <section id="experience" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text scroll-reveal">Experience & Education</h2>
            <div class="max-w-3xl mx-auto space-y-12">
                <!-- Experience 1 -->
                <div class="relative pl-8 border-l-2 border-purple-600 scroll-reveal delay-1">
                    <div class="absolute w-4 h-4 bg-purple-600 rounded-full -left-2 top-0"></div>
                    <h3 class="text-2xl font-semibold text-white mb-1">B.Tech. in Computer Science</h3>
                    <p class="text-lg text-gray-300 mb-2">Sant Baba Bhag Singh University | 2023 - 2027</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Undergraduate.</li>
                        <li>Focused on Data Structures, Algorithms, and Database Management Systems.</li>
                    </ul>
                </div>
                <!-- Experience 2 -->
                <div class="relative pl-8 border-l-2 border-purple-600 scroll-reveal delay-2">
                    <div class="absolute w-4 h-4 bg-purple-600 rounded-full -left-2 top-0"></div>
                    <h3 class="text-2xl font-semibold text-white mb-1">Python ML Intern</h3>
                    <p class="text-lg text-gray-300 mb-2">Future Finders | 2025</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Implemented and evaluated various supervised & unsupervised learning algorithms.</li>
                        <li>Improved the skills like feature engineering, data preprocessing, and making end-to-end projects.</li>
                    </ul>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Certifications Section -->
    <section id="certifications" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text scroll-reveal">Certifications</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Certification Card 1 -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-1">
                    <div class="text-5xl mb-4 text-orange-400">🏅</div>
                    <h3 class="text-2xl font-semibold mb-2">Machine Learning</h3>
                    <p class="text-gray-400 mb-2">Issued by Future Finders</p>
                    <p class="text-gray-500 text-sm mb-4">Issued: August 2025</p>
                    <a href="navjot kaushal cer...pdf" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                        View Credential &rarr;
                    </a>
                </div>
                <!-- Certification Card 2 -->
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-2">
                    <div class="text-5xl mb-4 text-blue-400">🏆</div>
                    <h3 class="text-2xl font-semibold mb-2">Intermediate Machine Learning</h3>
                    <p class="text-gray-400 mb-2">Issued by Kaggle</p>
                    <p class="text-gray-500 text-sm mb-4">Issued: November 2022</p>
                    <a href="https://www.kaggle.com/learn/certification/navjotkaushal/intermediate-machine-learning" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                        View Credential &rarr;
                    </a>
                </div>
                <!-- Certification Card 3
                <div class="card p-6 rounded-lg text-center scroll-reveal delay-3">
                    <div class="text-5xl mb-4 text-green-400">📜</div>
                    <h3 class="text-2xl font-semibold mb-2">TensorFlow Developer Certificate</h3>
                    <p class="text-gray-400 mb-2">Issued by Google</p>
                    <p class="text-gray-500 text-sm mb-4">Issued: April 2022</p>
                    <a href="https://www.tensorflow.org/certificate/your-tf-cert-id" target="_blank" class="text-purple-400 hover:text-purple-500 font-medium transition duration-300">
                        View Credential &rarr;
                    </a>
                </div> -->
                
            </div>
        </div>
    </section>


    <!-- Contact Section -->
    <section id="contact" class="py-20">
        <div class="container mx-auto px-4 max-w-2xl">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text scroll-reveal">Get In Touch</h2>
            <p class="text-center text-gray-400 mb-8 scroll-reveal delay-1">
                Have a project in mind or just want to chat about AI/ML? Feel free to reach out!
            </p>
            <!--
                IMPORTANT: This form now uses JavaScript to send data to Firestore.
                No 'action' attribute is needed here for direct submission.
            -->
            <form id="contactForm" class="space-y-6 card p-8 rounded-lg scroll-reveal delay-2">
                <div>
                    <label for="name" class="block text-gray-300 text-sm font-bold mb-2">Name</label>
                    <!-- Changed text color to white for visibility -->
                    <input type="text" id="name" name="name" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-purple-600 bg-gray-700 border-gray-600" placeholder="Your Name" required>
                </div>
                <div>
                    <label for="email" class="block text-gray-300 text-sm font-bold mb-2">Email</label>
                    <!-- Changed text color to white for visibility -->
                    <input type="email" id="email" name="email" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-purple-600 bg-gray-700 border-gray-600" placeholder="your.email@example.com" required>
                </div>
                <div>
                    <label for="message" class="block text-gray-300 text-sm font-bold mb-2">Message</label>
                    <!-- Changed text color to white for visibility -->
                    <textarea id="message" name="message" rows="6" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-purple-600 bg-gray-700 border-gray-600" placeholder="Your message..." required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" id="submitBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                        Send Message
                    </button>
                    <span id="loadingIndicator" class="hidden text-gray-400 ml-4">Sending...</span>
                </div>
            </form>
            <div class="mt-8 text-center text-gray-500 scroll-reveal delay-3">
                <p>You can also find me on:</p>
                <div class="flex justify-center space-x-6 mt-4">
                    <!-- Placeholder for social media icons/links -->
                    <a href="https://www.linkedin.com/in/navjot-kaushal-258837317" target="_blank" class="text-gray-400 hover:text-white transition duration-300 text-3xl">
                        <!-- LinkedIn Icon (example) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="inline-block"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                    </a>
                    <a href="https://github.com/Navjotkaushal " target="_blank" class="text-gray-400 hover:text-white transition duration-300 text-3xl">
                        <!-- GitHub Icon (example) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="inline-block"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.835 2.809 1.305 3.493.998.108-.776.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.197-6.091 8.197-11.387c0-6.627-5.373-12-12-12z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Messages Section (Initially Hidden) -->
    <section id="admin-messages" class="py-20 hidden">
        <div class="container mx-auto px-4 max-w-4xl">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text">Received Messages (Admin View)</h2>
            <div id="messagesList" class="space-y-6">
                <!-- Messages will be loaded here by JavaScript -->
                <p class="text-center text-gray-400">Loading messages...</p>
            </div>
            <div class="text-center mt-8">
                <button id="hideMessagesBtn" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                    Hide Messages
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-950 text-gray-500 py-6 text-center text-sm">
        <div class="container mx-auto px-4">
            <p>&copy; 2025 Navjot Kaushal. All rights reserved.</p>
            <p>Designed with <span class="text-red-500">&hearts;</span> and powered by AI.</p>
            <p id="currentUserId" class="mt-2 text-xs text-gray-600"></p>
            <button id="toggleAdminMessages" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white text-sm py-2 px-4 rounded-full transition duration-300">
                Toggle Admin Messages
            </button>
        </div>
    </footer>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the Canvas environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app;
        let db;
        let auth;
        let currentUserId = 'anonymous'; // Default until authenticated

        // Custom Message Box Function
        function showMessageBox(title, content) {
            const messageBox = document.getElementById('customMessageBox');
            document.getElementById('messageBoxTitle').textContent = title;
            document.getElementById('messageBoxContent').textContent = content;
            messageBox.classList.add('show');
        }

        document.getElementById('messageBoxCloseBtn').addEventListener('click', () => {
            document.getElementById('customMessageBox').classList.remove('show');
        });

        // Initialize Firebase and Authenticate
        async function initializeFirebase() {
            try {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Sign in with custom token if available, otherwise anonymously
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                // Listen for auth state changes to get the user ID
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        currentUserId = user.uid;
                        document.getElementById('currentUserId').textContent = `Your User ID: ${currentUserId}`;
                        console.log("Firebase authenticated. User ID:", currentUserId);
                        // Start listening to messages only after authentication is ready
                        setupMessageListener();
                    } else {
                        currentUserId = crypto.randomUUID(); // Fallback for unauthenticated state
                        document.getElementById('currentUserId').textContent = `Your (Anonymous) User ID: ${currentUserId}`;
                        console.log("Firebase not authenticated, using anonymous ID:", currentUserId);
                        // Still try to setup message listener, but it might fail if rules require auth
                        setupMessageListener();
                    }
                });

            } catch (error) {
                console.error("Error initializing Firebase or authenticating:", error);
                showMessageBox("Error", "Failed to initialize Firebase. Some features may not work.");
            }
        }

        // Contact Form Submission
        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault(); // Prevent default form submission

            submitBtn.disabled = true;
            loadingIndicator.classList.remove('hidden');

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;

            try {
                // Firestore collection path for public data
                const messagesCollectionRef = collection(db, `artifacts/${appId}/public/data/contact_messages`);

                await addDoc(messagesCollectionRef, {
                    name: name,
                    email: email,
                    message: message,
                    timestamp: serverTimestamp(), // Add server timestamp
                    userId: currentUserId // Store the user ID
                });

                showMessageBox("Success!", "Your message has been sent. Thank you!");
                contactForm.reset(); // Clear the form
            } catch (error) {
                console.error("Error sending message:", error);
                showMessageBox("Error", "Failed to send message. Please try again later.");
            } finally {
                submitBtn.disabled = false;
                loadingIndicator.classList.add('hidden');
            }
        });

        // Admin Messages Display
        const adminMessagesSection = document.getElementById('admin-messages');
        const messagesList = document.getElementById('messagesList');
        const toggleAdminMessagesBtn = document.getElementById('toggleAdminMessages');
        const hideMessagesBtn = document.getElementById('hideMessagesBtn');

        toggleAdminMessagesBtn.addEventListener('click', () => {
            adminMessagesSection.classList.toggle('hidden');
            if (!adminMessagesSection.classList.contains('hidden')) {
                // If showing, scroll to it
                adminMessagesSection.scrollIntoView({ behavior: 'smooth' });
            }
        });

        hideMessagesBtn.addEventListener('click', () => {
            adminMessagesSection.classList.add('hidden');
        });

        function setupMessageListener() {
            if (!db) {
                console.error("Firestore not initialized. Cannot set up message listener.");
                return;
            }

            // Query for messages, ordered by timestamp (if available)
            const messagesQuery = query(collection(db, `artifacts/${appId}/public/data/contact_messages`), orderBy('timestamp', 'desc'));

            onSnapshot(messagesQuery, (snapshot) => {
                messagesList.innerHTML = ''; // Clear existing messages
                if (snapshot.empty) {
                    messagesList.innerHTML = '<p class="text-center text-gray-400">No messages received yet.</p>';
                    return;
                }

                snapshot.docs.forEach(doc => {
                    const data = doc.data();
                    const messageElement = document.createElement('div');
                    messageElement.className = 'card p-6 rounded-lg';
                    messageElement.innerHTML = `
                        <p class="text-sm text-gray-500 mb-2">From: <span class="text-purple-400">${data.name} &lt;${data.email}&gt;</span></p>
                        <p class="text-sm text-gray-500 mb-2">User ID: <span class="text-cyan-400 break-all">${data.userId || 'N/A'}</span></p>
                        <p class="text-gray-300 mb-4">${data.message}</p>
                        <p class="text-xs text-gray-500">${data.timestamp ? new Date(data.timestamp.toDate()).toLocaleString() : 'Just now'}</p>
                    `;
                    messagesList.appendChild(messageElement);
                });
            }, (error) => {
                console.error("Error listening to messages:", error);
                messagesList.innerHTML = '<p class="text-center text-red-400">Error loading messages.</p>';
                showMessageBox("Error", "Failed to load messages from storage.");
            });
        }

    </script>

    <!-- Particles.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Optional: Simple typewriter effect for the hero text
        const heroTextElement = document.querySelector('#about h1');
        const originalText = "Hello, I'm Navjot Kaushal"; // Text without gradient span
        const gradientSpan = '<span class="gradient-text">Navjot Kaushal</span>';
        const fullText = `Hello, I'm ${gradientSpan}`;
        let i = 0;
        let isDeleting = false;
        let currentText = '';
        const typingSpeed = 100; // milliseconds per character
        const deletingSpeed = 50;
        const delayBetweenTexts = 1500;

        function typeWriter() {
            const namePart = 'Navjot Kaushal'; // The part that gets typed/deleted
            const staticPart = "Hello, I'm ";

            if (isDeleting) {
                currentText = namePart.substring(0, i - 1);
                i--;
            } else {
                currentText = namePart.substring(0, i + 1);
                i++;
            }

            heroTextElement.innerHTML = `${staticPart}<span class="gradient-text">${currentText}</span><span class="cursor">|</span>`; // Add a blinking cursor effect

            let speed = typingSpeed;
            if (isDeleting) {
                speed = deletingSpeed;
            }

            if (!isDeleting && i === namePart.length) {
                isDeleting = true;
                speed = delayBetweenTexts;
            } else if (isDeleting && i === 0) {
                isDeleting = false;
                speed = typingSpeed;
            }

            setTimeout(typeWriter, speed);
        }

        // UNCOMMENTED: Enable the typewriter effect on window load
        // This will run after Firebase initialization, which is fine as it's a visual effect
        // If you want it to start immediately, move this line before initializeFirebase() call
        window.addEventListener('load', typeWriter);


        // Add blur effect to navbar on scroll
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) { // Adjust scroll threshold as needed
                navbar.classList.add('navbar-blurred');
            } else {
                navbar.classList.remove('navbar-blurred');
            }
        });

        // Particles.js initialization for hero background
        particlesJS('particles-js', {
            "particles": {
                "number": {
                    "value": 80,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": "#8b5cf6" /* Purple color for particles */
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    },
                    "image": {
                        "src": "img/github.svg",
                        "width": 100,
                        "height": 100
                    }
                },
                "opacity": {
                    "value": 0.5,
                    "random": false,
                    "anim": {
                        "enable": false,
                        "speed": 1,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": false,
                        "speed": 40,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#ec4899", /* Pink color for lines */
                    "opacity": 0.4,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 6,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": false,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "grab"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 140,
                        "line_linked": {
                            "opacity": 1
                        }
                    },
                    "bubble": {
                        "distance": 400,
                        "size": 40,
                        "duration": 2,
                        "opacity": 8,
                        "speed": 3
                    },
                    "repulse": {
                        "distance": 200,
                        "duration": 0.4
                    },
                    "push": {
                        "particles_nb": 4
                    },
                    "remove": {
                        "particles_nb": 2
                    }
                }
            },
            "retina_detect": true
        });

        // Scroll Reveal Animation Logic
        const scrollRevealElements = document.querySelectorAll('.scroll-reveal');

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    observer.unobserve(entry.target); // Stop observing once animated
                }
            });
        }, {
            threshold: 0.1, // Trigger when 10% of the element is visible
            rootMargin: '0px 0px -50px 0px' // Adjust when elements become visible
        });

        scrollRevealElements.forEach(el => {
            observer.observe(el);
        });

    </script>
</body>
</html>
